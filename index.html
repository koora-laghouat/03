<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„ÙƒØ±Ø© ÙÙŠ Ø§Ù„Ø£ØºÙˆØ§Ø· | KOORA LAGHOUAT</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'kl-green': '#006400',
                        'kl-light-green': '#32CD32',
                        'kl-black': '#1a1a1a',
                        'kl-gray': '#f4f4f4',
                    },
                    fontFamily: {
                        sans: ['Cairo', 'sans-serif'],
                    },
                    animation: {
                        'ticker': 'ticker 30s linear infinite',
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                    },
                    keyframes: {
                        ticker: {
                            '0%': { transform: 'translateX(-100%)' }, 
                            '100%': { transform: 'translateX(100%)' }, 
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #f9f9f9; }
        .section-hidden { display: none !important; } /* Force hide */
        .active-link { color: #32CD32 !important; font-weight: bold; border-bottom: 2px solid #32CD32; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #006400; border-radius: 4px; }
        .hover-zoom img { transition: transform 0.5s ease; }
        .hover-zoom:hover img { transform: scale(1.1); }
    </style>
</head>
<body class="font-sans text-gray-800">

    <!-- Login Modal (Added 'hidden' class by default) -->
    <div id="login-modal" class="hidden fixed inset-0 bg-black/90 z-[300] flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white rounded-xl p-8 max-w-sm w-full shadow-2xl relative animate-fade-in border-t-4 border-kl-green">
            <button onclick="closeLoginModal()" class="absolute top-4 left-4 text-gray-500 hover:text-red-500 text-xl"><i class="fas fa-times"></i></button>
            <h2 class="text-2xl font-black text-center mb-6 text-kl-green">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†</h2>
            <form onsubmit="handleLogin(event)" class="space-y-4">
                <div>
                    <label class="block text-sm font-bold mb-1">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" id="username" class="w-full border-2 border-gray-200 p-3 rounded-lg focus:outline-none focus:border-kl-green transition" placeholder="kooralaghouat">
                </div>
                <div>
                    <label class="block text-sm font-bold mb-1">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="password" class="w-full border-2 border-gray-200 p-3 rounded-lg focus:outline-none focus:border-kl-green transition" placeholder="********">
                </div>
                <button type="submit" class="w-full bg-kl-green text-white font-bold py-3 rounded-lg hover:bg-kl-black transition shadow-lg">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            </form>
        </div>
    </div>

    <!-- Admin Floating Button -->
    <button onclick="openLoginModal()" class="fixed bottom-6 left-6 z-50 bg-gray-800 text-white p-4 rounded-full shadow-lg hover:bg-kl-green transition hover:scale-110 border-2 border-white" title="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…">
        <i class="fas fa-cogs text-xl"></i>
    </button>

    <!-- Admin Dashboard (Z-Index increased to 200) -->
    <div id="admin-panel" class="section-hidden fixed inset-0 bg-gray-100 z-[200] overflow-y-auto">
        <div class="container mx-auto p-4 md:p-8">
            <div class="flex justify-between items-center mb-8 bg-white p-4 rounded-xl shadow-sm">
                <h1 class="text-2xl md:text-3xl font-black text-kl-black flex items-center gap-2">
                    <i class="fas fa-sliders-h text-kl-green"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
                </h1>
                <div class="flex gap-2">
                    <button onclick="saveChanges()" class="bg-kl-green text-white px-4 py-2 rounded-lg font-bold hover:bg-green-700 shadow flex items-center gap-2 text-sm md:text-base">
                        <i class="fas fa-save"></i> Ø­ÙØ¸
                    </button>
                    <button onclick="closeAdminPanel()" class="bg-red-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-red-600 shadow flex items-center gap-2 text-sm md:text-base">
                        <i class="fas fa-sign-out-alt"></i> Ø®Ø±ÙˆØ¬
                    </button>
                </div>
            </div>

            <!-- Tabs Navigation -->
            <div class="flex space-x-2 space-x-reverse mb-6 overflow-x-auto pb-2">
                <button onclick="switchAdminTab('general', this)" class="admin-tab-btn active-tab bg-kl-green text-white px-6 py-2 rounded-full shadow font-bold transition whitespace-nowrap">Ø¹Ø§Ù…</button>
                <button onclick="switchAdminTab('ticker', this)" class="admin-tab-btn bg-white text-gray-700 px-6 py-2 rounded-full shadow font-bold hover:text-kl-green transition whitespace-nowrap">Ø§Ù„Ø´Ø±ÙŠØ·</button>
                <button onclick="switchAdminTab('slider', this)" class="admin-tab-btn bg-white text-gray-700 px-6 py-2 rounded-full shadow font-bold hover:text-kl-green transition whitespace-nowrap">Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±</button>
                <button onclick="switchAdminTab('news', this)" class="admin-tab-btn bg-white text-gray-700 px-6 py-2 rounded-full shadow font-bold hover:text-kl-green transition whitespace-nowrap">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</button>
                <button onclick="switchAdminTab('teams', this)" class="admin-tab-btn bg-white text-gray-700 px-6 py-2 rounded-full shadow font-bold hover:text-kl-green transition whitespace-nowrap">Ø§Ù„ØªØ±ØªÙŠØ¨</button>
            </div>

            <!-- Tab: General -->
            <div id="tab-general" class="admin-tab-content bg-white p-6 rounded-xl shadow-md border border-gray-100">
                <h3 class="text-xl font-bold mb-6 border-b pb-2">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù‡ÙˆÙŠØ©</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold mb-2 text-gray-600">Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„)</label>
                        <input type="text" id="edit-site-name-1" class="w-full border-2 border-gray-100 p-3 rounded-lg focus:border-kl-green outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2 text-gray-600">Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ù„ÙˆÙ†)</label>
                        <input type="text" id="edit-site-name-2" class="w-full border-2 border-gray-100 p-3 rounded-lg focus:border-kl-green outline-none">
                    </div>
                    <div class="md:col-span-2">
                        <label class="block text-sm font-bold mb-2 text-gray-600">ÙˆØµÙ Ø§Ù„Ø´Ø¹Ø§Ø± (Slogan)</label>
                        <input type="text" id="edit-site-desc" class="w-full border-2 border-gray-100 p-3 rounded-lg focus:border-kl-green outline-none">
                    </div>
                </div>
            </div>

            <!-- Tab: Ticker -->
            <div id="tab-ticker" class="admin-tab-content hidden bg-white p-6 rounded-xl shadow-md border border-gray-100">
                <h3 class="text-xl font-bold mb-6 border-b pb-2">Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©</h3>
                <p class="text-sm text-gray-500 mb-2"><i class="fas fa-info-circle"></i> Ø§ÙƒØªØ¨ ÙƒÙ„ Ø®Ø¨Ø± ÙÙŠ Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯</p>
                <textarea id="edit-ticker-text" rows="8" class="w-full border-2 border-gray-100 p-3 rounded-lg focus:border-kl-green outline-none font-medium" placeholder="Ø®Ø¨Ø± 1&#10;Ø®Ø¨Ø± 2"></textarea>
            </div>

            <!-- Tab: Slider -->
            <div id="tab-slider" class="admin-tab-content hidden bg-white p-6 rounded-xl shadow-md border border-gray-100">
                <div class="flex justify-between items-center mb-6 border-b pb-2">
                    <h3 class="text-xl font-bold">Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© (Slider)</h3>
                    <button onclick="addNewSlideInput()" class="bg-kl-black text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-800 font-bold"><i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙŠØ­Ø©</button>
                </div>
                <div id="slider-editor-container" class="space-y-4"></div>
            </div>

            <!-- Tab: News -->
            <div id="tab-news" class="admin-tab-content hidden bg-white p-6 rounded-xl shadow-md border border-gray-100">
                <div class="flex justify-between items-center mb-6 border-b pb-2">
                    <h3 class="text-xl font-bold">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h3>
                    <button onclick="addNewNewsInput()" class="bg-kl-black text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-800 font-bold"><i class="fas fa-plus"></i> Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯</button>
                </div>
                <div id="news-editor-container" class="grid grid-cols-1 gap-6"></div>
            </div>

            <!-- Tab: Teams -->
            <div id="tab-teams" class="admin-tab-content hidden bg-white p-6 rounded-xl shadow-md border border-gray-100">
                <div class="flex justify-between items-center mb-6 border-b pb-2">
                    <h3 class="text-xl font-bold">Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ±ØªÙŠØ¨</h3>
                    <button onclick="addNewTeamRow()" class="bg-kl-black text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-800 font-bold"><i class="fas fa-plus"></i> ÙØ±ÙŠÙ‚ Ø¬Ø¯ÙŠØ¯</button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-center border-collapse">
                        <thead class="bg-gray-100 text-gray-600 text-sm">
                            <tr>
                                <th class="p-3">#</th>
                                <th class="p-3 w-1/3">Ø§Ù„ÙØ±ÙŠÙ‚</th>
                                <th class="p-3">Ù„Ø¹Ø¨</th>
                                <th class="p-3">Ù†Ù‚Ø§Ø·</th>
                                <th class="p-3">Ø§Ù„Ù„ÙˆÙ†</th>
                                <th class="p-3">Ø­Ø°Ù</th>
                            </tr>
                        </thead>
                        <tbody id="teams-editor-body"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Website Header -->
    <header class="bg-kl-black text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-3 space-x-reverse cursor-pointer" onclick="showSection('home')">
                <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-kl-green font-bold text-xl border-2 border-kl-green shadow-[0_0_10px_rgba(50,205,50,0.5)]">
                    <i class="fas fa-futbol"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-black tracking-tighter uppercase leading-none" id="display-site-title">
                        KOORA <span class="text-kl-light-green">LAGHOUAT</span>
                    </h1>
                    <span class="text-xs text-gray-400 block tracking-wide" id="display-site-desc">Ù†Ø¨Ø¶ Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø£ØºÙˆØ§Ø·ÙŠØ©</span>
                </div>
            </div>
            <button id="mobile-menu-btn" class="lg:hidden text-2xl focus:outline-none hover:text-kl-light-green transition"><i class="fas fa-bars"></i></button>
            <nav class="hidden lg:flex space-x-6 space-x-reverse text-sm font-semibold">
                <a href="#" onclick="showSection('home')" class="nav-link hover:text-kl-light-green transition pb-1 active-link" id="nav-home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="#" onclick="showSection('news')" class="nav-link hover:text-kl-light-green transition pb-1" id="nav-news">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</a>
                <a href="#" onclick="showSection('standings')" class="nav-link hover:text-kl-light-green transition pb-1" id="nav-standings">Ø§Ù„ØªØ±ØªÙŠØ¨</a>
                <a href="#" onclick="showSection('contact')" class="nav-link hover:text-kl-light-green transition pb-1" id="nav-contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
            </nav>
        </div>
        <div id="mobile-menu" class="hidden lg:hidden bg-gray-900 border-t border-gray-800 p-4 space-y-3 shadow-inner">
            <a href="#" onclick="showSection('home')" class="block hover:text-kl-light-green p-2 rounded hover:bg-gray-800">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="#" onclick="showSection('news')" class="block hover:text-kl-light-green p-2 rounded hover:bg-gray-800">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</a>
            <a href="#" onclick="showSection('standings')" class="block hover:text-kl-light-green p-2 rounded hover:bg-gray-800">Ø§Ù„ØªØ±ØªÙŠØ¨</a>
        </div>
    </header>

    <!-- News Ticker -->
    <div class="bg-kl-green text-white text-sm py-2 relative overflow-hidden flex items-center shadow-inner border-b border-green-800">
        <div class="bg-kl-green z-10 px-4 font-bold whitespace-nowrap shadow-[4px_0_10px_rgba(0,0,0,0.3)] absolute right-0 h-full flex items-center">
            <span class="bg-red-600 px-2 py-0.5 rounded text-xs ml-2 animate-pulse shadow-sm">Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</span>
        </div>
        <div class="overflow-hidden w-full h-6 relative">
            <div class="absolute top-0 right-0 whitespace-nowrap animate-[ticker_35s_linear_infinite]" id="news-ticker-content" style="text-align: right;"></div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 min-h-screen" id="main-content">

        <!-- HOME SECTION -->
        <section id="home" class="space-y-12 section-block animate-fade-in">
            <!-- Slider -->
            <div class="relative w-full h-64 md:h-[500px] rounded-2xl overflow-hidden shadow-2xl group border border-gray-200">
                <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent z-10"></div>
                <img id="slider-img" src="" class="w-full h-full object-cover transition-transform duration-[2000ms] ease-in-out hover:scale-105" alt="Slider">
                <div class="absolute bottom-0 right-0 z-20 text-white w-full p-6 md:p-10">
                    <span class="bg-kl-green px-3 py-1 rounded text-xs md:text-sm font-bold mb-3 inline-block shadow">Ø­Ø¯Ø« Ø±Ø¦ÙŠØ³ÙŠ</span>
                    <h2 id="slider-title" class="text-2xl md:text-4xl font-black leading-tight mb-2 drop-shadow-md max-w-4xl"></h2>
                </div>
                <!-- Controls -->
                <div class="absolute bottom-6 left-6 z-20 flex space-x-3 space-x-reverse">
                    <button onclick="changeSlide(1)" class="w-10 h-10 md:w-12 md:h-12 bg-white/20 hover:bg-kl-green border border-white/30 rounded-full text-white flex items-center justify-center backdrop-blur-md transition transform active:scale-90"><i class="fas fa-arrow-right"></i></button>
                    <button onclick="changeSlide(-1)" class="w-10 h-10 md:w-12 md:h-12 bg-white/20 hover:bg-kl-green border border-white/30 rounded-full text-white flex items-center justify-center backdrop-blur-md transition transform active:scale-90"><i class="fas fa-arrow-left"></i></button>
                </div>
            </div>

            <!-- Featured News Grid -->
            <div>
                 <div class="flex justify-between items-end mb-6 border-r-4 border-kl-green pr-4">
                    <h3 class="text-2xl font-bold text-gray-800">Ø¢Ø®Ø± Ø§Ù„Ù…Ø³ØªØ¬Ø¯Ø§Øª</h3>
                    <button onclick="showSection('news')" class="text-kl-green hover:underline text-sm font-bold flex items-center gap-1">Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø±Ø´ÙŠÙ <i class="fas fa-arrow-left"></i></button>
                </div>
                <div id="featured-news-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
            </div>
        </section>

        <!-- NEWS SECTION -->
        <section id="news" class="section-block section-hidden animate-fade-in">
            <h2 class="text-3xl font-black text-kl-green mb-8 text-center border-b-2 border-gray-100 pb-4">Ø£Ø±Ø´ÙŠÙ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h2>
            <div id="all-news-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"></div>
        </section>

        <!-- STANDINGS SECTION -->
        <section id="standings" class="section-block section-hidden animate-fade-in">
            <h2 class="text-3xl font-black text-center mb-8 border-b-2 border-gray-100 pb-4">Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ø§Ù…</h2>
            <div class="overflow-x-auto bg-white rounded-xl shadow-lg border border-gray-100">
                <table class="w-full text-center whitespace-nowrap">
                    <thead class="bg-kl-black text-white">
                        <tr>
                            <th class="p-4">#</th>
                            <th class="p-4 text-right">Ø§Ù„ÙØ±ÙŠÙ‚</th>
                            <th class="p-4">Ù„Ø¹Ø¨</th>
                            <th class="p-4 bg-green-900">Ù†Ù‚Ø§Ø·</th>
                        </tr>
                    </thead>
                    <tbody id="standings-body" class="text-gray-700 font-bold"></tbody>
                </table>
            </div>
        </section>

        <!-- CONTACT SECTION -->
        <section id="contact" class="section-block section-hidden animate-fade-in">
             <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                <div class="bg-kl-black p-6 text-white text-center">
                    <h2 class="text-3xl font-bold mb-2">Ø§ØªØµÙ„ Ø¨Ù†Ø§</h2>
                    <p class="text-gray-400">Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</p>
                </div>
                <div class="p-8">
                     <form onsubmit="event.preventDefault(); alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§.');" class="space-y-4">
                        <input type="text" class="w-full border-2 border-gray-100 rounded-lg p-3 focus:border-kl-green outline-none transition" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
                        <input type="email" class="w-full border-2 border-gray-100 rounded-lg p-3 focus:border-kl-green outline-none transition" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
                        <textarea class="w-full border-2 border-gray-100 rounded-lg p-3 h-32 focus:border-kl-green outline-none transition" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." required></textarea>
                        <button class="w-full bg-kl-green text-white py-3 rounded-lg font-bold hover:bg-kl-black transition shadow-lg">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
                    </form>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-kl-black text-white py-8 border-t-4 border-kl-green text-center mt-12">
        <div class="container mx-auto">
            <p class="font-bold text-lg mb-2">KOORA <span class="text-kl-light-green">LAGHOUAT</span></p>
            <p class="text-gray-500 text-sm">&copy; 2025 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- DATA INITIALIZATION ---
        const defaultData = {
            config: { siteName1: "KOORA", siteName2: "LAGHOUAT", desc: "Ù†Ø¨Ø¶ Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø£ØºÙˆØ§Ø·ÙŠØ©" },
            ticker: [
                "ØªØ£Ù‡Ù„ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ù„Ù„Ø£ØºÙˆØ§Ø· Ù„Ù„Ø¯ÙˆØ± Ø§Ù„Ù€ 16 Ù…Ù† ÙƒØ£Ø³ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø¨Ø±ÙƒÙ„Ø§Øª Ø§Ù„ØªØ±Ø¬ÙŠØ­ ğŸ†",
                "ØªØ¹Ø²ÙŠØ©: Ø§Ù„Ø£Ø³Ø±Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ØªÙˆØ¯Ø¹ Ø§Ù„ØµØ­ÙÙŠ Ø§Ù„Ù‚Ø¯ÙŠØ± Ø¹Ø¨Ø¯ Ø§Ù„Ø­ÙÙŠØ¸ Ø´Ø§ÙŠØ¨",
                "ÙˆÙØ§Ø© Ø§Ù„Ù…Ù†Ø§ØµØ± Ø§Ù„ÙˆÙÙŠ Ù„Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø£ØºÙˆØ§Ø· Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ø¤Ù…Ù† Ù…Ø­Ù…Ø¯ - Ø¥Ù†Ø§ Ù„Ù„Ù‡ ÙˆØ¥Ù†Ø§ Ø¥Ù„ÙŠÙ‡ Ø±Ø§Ø¬Ø¹ÙˆÙ†",
                "Ø¹Ù…Ù„ÙŠØ© Ø¬Ø±Ø§Ø­ÙŠØ© Ù†Ø§Ø¬Ø­Ø© Ù„Ù„Ø§Ø¹Ø¨ ØµÙ‡ÙŠØ¨ Ù†Ø¬Ø§Ù… ÙˆØ§Ù„Ø¹ÙˆØ¯Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù„Ù„Ù…Ù„Ø§Ø¹Ø¨"
            ],
            slider: [
                { title: "ØªØ£Ù‡Ù„ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ù„Ù„Ø£ØºÙˆØ§Ø· Ù„Ù„Ø¯ÙˆØ± 16 Ù…Ù† ÙƒØ£Ø³ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ©", img: "https://images.unsplash.com/photo-1517466787929-bc90951d0974?q=80&w=1200" },
                { title: "Ø¹Ù…Ù„ÙŠØ© Ø¬Ø±Ø§Ø­ÙŠØ© Ù†Ø§Ø¬Ø­Ø© Ù„Ù„Ø§Ø¹Ø¨ ØµÙ‡ÙŠØ¨ Ù†Ø¬Ø§Ù… - Ø¨Ø§Ù„Ø´ÙØ§Ø¡ Ø§Ù„Ø¹Ø§Ø¬Ù„", img: "https://images.unsplash.com/photo-1517927033932-b3d18e61fb3a?q=80&w=1200" },
                { title: "ÙˆØ¯Ø§Ø¹Ø§Ù‹ Ø¹Ø¨Ø¯ Ø§Ù„Ø­ÙÙŠØ¸ Ø´Ø§ÙŠØ¨ - Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ", img: "https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=1200" },
                { title: "ØªØ¹Ø²ÙŠØ© ÙÙŠ ÙˆÙØ§Ø© Ø§Ù„Ù…Ù†Ø§ØµØ± Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ø¤Ù…Ù† Ù…Ø­Ù…Ø¯", img: "https://images.unsplash.com/photo-1595152772835-219674b2a8a6?q=80&w=1200" }
            ],
            news: [
                { title: "ÙÙˆØ² Ù…Ø³ØªØ­Ù‚ Ù„Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©", cat: "ÙƒØ£Ø³", date: "Ù…Ù†Ø° 7 Ø³Ø§Ø¹Ø§Øª", img: "https://images.unsplash.com/photo-1517466787929-bc90951d0974?q=80&w=600" },
                { title: "Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ© Ù„ØµÙ‡ÙŠØ¨", cat: "Ø¥ØµØ§Ø¨Ø§Øª", date: "Ù…Ù†Ø° ÙŠÙˆÙ…", img: "https://images.unsplash.com/photo-1517927033932-b3d18e61fb3a?q=80&w=600" },
                { title: "Ø¬Ù†Ø§Ø²Ø© Ù…Ù‡ÙŠØ¨Ø© Ù„Ù„ÙÙ‚ÙŠØ¯", cat: "Ù…Ø¬ØªÙ…Ø¹", date: "Ù…Ù†Ø° ÙŠÙˆÙ…ÙŠÙ†", img: "https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=600" }
            ],
            teams: [
                { name: "Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø£ØºÙˆØ§Ø·", played: 12, points: 28, color: "green" },
                { name: "Ø´Ø¨Ø§Ø¨ Ø§Ù„Ø£ØºÙˆØ§Ø·", played: 12, points: 25, color: "blue" },
                { name: "Ù…ÙˆÙ„ÙˆØ¯ÙŠØ© Ø­Ø§Ø³ÙŠ Ø§Ù„Ø±Ù…Ù„", played: 12, points: 22, color: "red" },
                { name: "Ø§ØªØ­Ø§Ø¯ Ø¢ÙÙ„Ùˆ", played: 12, points: 19, color: "yellow" }
            ]
        };

        let appData = JSON.parse(localStorage.getItem('koora_laghouat_data')) || defaultData;
        let isAdmin = false;

        // Ensure update of slider data if it matches old default
        if(appData.slider.length > 0 && appData.slider[0].title.includes("Ø§Ù„Ø¯ÙŠØ±Ø¨ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ±")) {
            appData.slider = defaultData.slider;
            appData.ticker = defaultData.ticker;
            appData.news = defaultData.news;
            localStorage.setItem('koora_laghouat_data', JSON.stringify(appData));
        }

        // --- CORE FUNCTIONS ---
        function renderAll() {
            renderConfig();
            renderTicker();
            renderSlider();
            renderNews();
            renderStandings();
        }

        function renderConfig() {
            document.getElementById('display-site-title').innerHTML = `${appData.config.siteName1} <span class="text-kl-light-green">${appData.config.siteName2}</span>`;
            document.getElementById('display-site-desc').innerText = appData.config.desc;
        }

        function renderTicker() {
            const container = document.getElementById('news-ticker-content');
            container.innerHTML = appData.ticker.map(item => `<span class="mx-12 inline-block text-lg"><i class="fas fa-dot-circle text-xs ml-2 text-kl-light-green"></i>${item}</span>`).join('');
        }

        let currentSlide = 0;
        let sliderInterval;

        function renderSlider() {
            if(appData.slider.length === 0) return;
            updateSlideView();
            if(sliderInterval) clearInterval(sliderInterval);
            sliderInterval = setInterval(() => changeSlide(1), 5000);
        }

        function updateSlideView() {
            const img = document.getElementById('slider-img');
            const title = document.getElementById('slider-title');
            
            if (currentSlide >= appData.slider.length) currentSlide = 0;
            if (currentSlide < 0) currentSlide = appData.slider.length - 1;

            const slide = appData.slider[currentSlide];
            img.src = slide.img;
            title.innerText = slide.title;
        }

        function changeSlide(dir) {
            currentSlide += dir;
            updateSlideView();
        }

        function renderNews() {
            const createCard = (n) => `
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition duration-300 border border-gray-100 group flex flex-col h-full">
                    <div class="h-48 overflow-hidden hover-zoom relative">
                        <img src="${n.img}" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/600x400?text=No+Image'">
                        <span class="absolute top-2 right-2 bg-kl-green/90 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full shadow">${n.cat}</span>
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <div class="text-xs text-gray-400 mb-2 flex items-center gap-1"><i class="far fa-clock"></i> ${n.date}</div>
                        <h4 class="font-bold text-lg mb-2 text-gray-800 leading-snug group-hover:text-kl-green transition line-clamp-2">${n.title}</h4>
                        <button class="mt-auto text-sm text-kl-green font-bold self-start hover:underline">Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø²ÙŠØ¯</button>
                    </div>
                </div>
            `;
            
            document.getElementById('featured-news-grid').innerHTML = appData.news.slice(0, 3).map(createCard).join('');
            document.getElementById('all-news-grid').innerHTML = appData.news.map(createCard).join('');
        }

        function renderStandings() {
            document.getElementById('standings-body').innerHTML = appData.teams.map((t, i) => `
                <tr class="border-b hover:bg-gray-50 transition">
                    <td class="p-4">${i + 1}</td>
                    <td class="p-4 text-right flex items-center font-bold text-gray-800">
                        <span class="w-3 h-3 bg-${t.color}-500 rounded-full ml-3 shadow-sm"></span> ${t.name}
                    </td>
                    <td class="p-4 text-gray-600">${t.played}</td>
                    <td class="p-4"><span class="bg-green-100 text-kl-green px-3 py-1 rounded-lg font-black">${t.points}</span></td>
                </tr>
            `).join('');
        }

        // --- ADMIN SYSTEM ---
        function openLoginModal() {
            if(isAdmin) {
                document.getElementById('admin-panel').classList.remove('section-hidden');
            } else {
                document.getElementById('login-modal').classList.remove('hidden');
            }
        }

        function closeLoginModal() {
            document.getElementById('login-modal').classList.add('hidden');
        }

        function handleLogin(e) {
            e.preventDefault();
            const u = document.getElementById('username').value.trim();
            const p = document.getElementById('password').value.trim();
            
            if(u === 'kooralaghouat' && p === 'kooradz2015') {
                isAdmin = true;
                // FIX: Completely hide the modal using 'hidden' class
                document.getElementById('login-modal').classList.add('hidden');
                document.getElementById('admin-panel').classList.remove('section-hidden');
                
                // Clear fields for security
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                
                initAdminForms();
            } else {
                alert('Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©.');
            }
        }

        function closeAdminPanel() {
            document.getElementById('admin-panel').classList.add('section-hidden');
            isAdmin = false;
        }

        function switchAdminTab(tabName, btn) {
            document.querySelectorAll('.admin-tab-content').forEach(el => el.classList.add('hidden'));
            document.getElementById(`tab-${tabName}`).classList.remove('hidden');
            
            document.querySelectorAll('.admin-tab-btn').forEach(b => {
                b.classList.remove('bg-kl-green', 'text-white');
                b.classList.add('bg-white', 'text-gray-700');
            });
            btn.classList.remove('bg-white', 'text-gray-700');
            btn.classList.add('bg-kl-green', 'text-white');
        }

        function initAdminForms() {
            // General
            document.getElementById('edit-site-name-1').value = appData.config.siteName1;
            document.getElementById('edit-site-name-2').value = appData.config.siteName2;
            document.getElementById('edit-site-desc').value = appData.config.desc;

            // Ticker
            document.getElementById('edit-ticker-text').value = appData.ticker.join('\n');

            // Render Dynamic Lists
            renderSliderEditor();
            renderNewsEditor();
            renderTeamsEditor();
        }

        // --- ADMIN: Dynamic List Generators ---
        function renderSliderEditor() {
            const container = document.getElementById('slider-editor-container');
            container.innerHTML = appData.slider.map((slide, i) => `
                <div class="border border-gray-200 p-4 rounded-xl bg-gray-50 relative group hover:border-kl-green transition">
                    <button onclick="deleteItem('slider', ${i})" class="absolute top-2 left-2 w-8 h-8 bg-white text-red-500 rounded-full shadow hover:bg-red-500 hover:text-white transition flex items-center justify-center"><i class="fas fa-trash-alt"></i></button>
                    <div class="grid grid-cols-1 gap-3">
                        <label class="text-xs font-bold text-gray-500">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø´Ø±ÙŠØ­Ø©</label>
                        <input type="text" value="${slide.title}" onchange="updateItem('slider', ${i}, 'title', this.value)" class="border p-2 rounded outline-none focus:border-kl-green">
                        <label class="text-xs font-bold text-gray-500">Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©</label>
                        <input type="text" value="${slide.img}" onchange="updateItem('slider', ${i}, 'img', this.value)" class="border p-2 rounded outline-none focus:border-kl-green dir-ltr">
                        <div class="h-20 w-full rounded overflow-hidden mt-2 bg-gray-200">
                             <img src="${slide.img}" class="w-full h-full object-cover opacity-80">
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderNewsEditor() {
            const container = document.getElementById('news-editor-container');
            container.innerHTML = appData.news.map((n, i) => `
                <div class="border border-gray-200 p-4 rounded-xl bg-gray-50 relative group hover:border-kl-green transition">
                    <button onclick="deleteItem('news', ${i})" class="absolute top-2 left-2 w-8 h-8 bg-white text-red-500 rounded-full shadow hover:bg-red-500 hover:text-white transition flex items-center justify-center"><i class="fas fa-trash-alt"></i></button>
                    <div class="space-y-3">
                        <input type="text" value="${n.title}" onchange="updateItem('news', ${i}, 'title', this.value)" class="border p-2 rounded w-full font-bold focus:border-kl-green outline-none" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø¨Ø±">
                        <div class="grid grid-cols-2 gap-2">
                            <input type="text" value="${n.cat}" onchange="updateItem('news', ${i}, 'cat', this.value)" class="border p-2 rounded focus:border-kl-green outline-none" placeholder="Ø§Ù„ØªØµÙ†ÙŠÙ">
                            <input type="text" value="${n.date}" onchange="updateItem('news', ${i}, 'date', this.value)" class="border p-2 rounded focus:border-kl-green outline-none" placeholder="Ø§Ù„ØªØ§Ø±ÙŠØ®">
                        </div>
                        <input type="text" value="${n.img}" onchange="updateItem('news', ${i}, 'img', this.value)" class="border p-2 rounded w-full text-xs text-gray-500 focus:border-kl-green outline-none" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
                    </div>
                </div>
            `).join('');
        }

        function renderTeamsEditor() {
            const tbody = document.getElementById('teams-editor-body');
            tbody.innerHTML = appData.teams.map((t, i) => `
                <tr class="border-b bg-white hover:bg-gray-50">
                    <td class="p-2 text-gray-500">${i + 1}</td>
                    <td class="p-2"><input type="text" value="${t.name}" onchange="updateItem('teams', ${i}, 'name', this.value)" class="border p-1 w-full text-center rounded focus:border-kl-green outline-none"></td>
                    <td class="p-2"><input type="number" value="${t.played}" onchange="updateItem('teams', ${i}, 'played', this.value)" class="border p-1 w-16 text-center rounded focus:border-kl-green outline-none"></td>
                    <td class="p-2"><input type="number" value="${t.points}" onchange="updateItem('teams', ${i}, 'points', this.value)" class="border p-1 w-16 text-center bg-green-50 font-bold rounded focus:border-kl-green outline-none"></td>
                    <td class="p-2">
                        <select onchange="updateItem('teams', ${i}, 'color', this.value)" class="border p-1 rounded text-sm">
                            <option value="green" ${t.color === 'green' ? 'selected' : ''}>Ø£Ø®Ø¶Ø±</option>
                            <option value="blue" ${t.color === 'blue' ? 'selected' : ''}>Ø£Ø²Ø±Ù‚</option>
                            <option value="red" ${t.color === 'red' ? 'selected' : ''}>Ø£Ø­Ù…Ø±</option>
                            <option value="yellow" ${t.color === 'yellow' ? 'selected' : ''}>Ø£ØµÙØ±</option>
                        </select>
                    </td>
                    <td class="p-2"><button onclick="deleteItem('teams', ${i})" class="text-red-500 hover:text-red-700 transition"><i class="fas fa-trash"></i></button></td>
                </tr>
            `).join('');
        }

        // --- GENERIC UPDATE FUNCTIONS ---
        function updateItem(arrName, idx, key, val) {
            appData[arrName][idx][key] = val;
        }

        function deleteItem(arrName, idx) {
            if(confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ')) {
                appData[arrName].splice(idx, 1);
                if(arrName === 'slider') renderSliderEditor();
                if(arrName === 'news') renderNewsEditor();
                if(arrName === 'teams') renderTeamsEditor();
            }
        }

        function addNewSlideInput() { appData.slider.push({title: "Ø´Ø±ÙŠØ­Ø© Ø¬Ø¯ÙŠØ¯Ø©", img: "https://placehold.co/1200x500"}); renderSliderEditor(); }
        function addNewNewsInput() { appData.news.unshift({title: "Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯", cat: "Ø¹Ø§Ù…", date: "Ø§Ù„Ø¢Ù†", img: "https://placehold.co/600x400"}); renderNewsEditor(); }
        function addNewTeamRow() { appData.teams.push({name: "ÙØ±ÙŠÙ‚ Ø¬Ø¯ÙŠØ¯", played: 0, points: 0, color: "green"}); renderTeamsEditor(); }

        function saveChanges() {
            appData.config.siteName1 = document.getElementById('edit-site-name-1').value;
            appData.config.siteName2 = document.getElementById('edit-site-name-2').value;
            appData.config.desc = document.getElementById('edit-site-desc').value;
            
            const rawTicker = document.getElementById('edit-ticker-text').value;
            appData.ticker = rawTicker.split('\n').filter(line => line.trim() !== "");

            localStorage.setItem('koora_laghouat_data', JSON.stringify(appData));
            alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
            renderAll();
            closeAdminPanel();
        }

        // --- NAVIGATION & INIT ---
        function showSection(sectionId) {
            document.querySelectorAll('.section-block').forEach(sec => sec.classList.add('section-hidden'));
            const target = document.getElementById(sectionId);
            if(target) {
                target.classList.remove('section-hidden');
                target.classList.remove('animate-fade-in');
                void target.offsetWidth; 
                target.classList.add('animate-fade-in');
            }
            
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active-link'));
            const activeLink = document.getElementById('nav-' + sectionId);
            if(activeLink) activeLink.classList.add('active-link');
            
            document.getElementById('mobile-menu').classList.add('hidden');
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        document.getElementById('mobile-menu-btn').addEventListener('click', () => {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });

        window.onload = function() {
            renderAll();
        };
    </script>
</body>
</html>
