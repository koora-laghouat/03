<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„ÙƒØ±Ø© ÙÙŠ Ø§Ù„Ø£ØºÙˆØ§Ø· | KOORA LAGHOUAT</title>
    
    <!-- Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø®Ø· Cairo -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'kl-green': '#006400',
                        'kl-light-green': '#32CD32',
                        'kl-black': '#1a1a1a',
                        'kl-gray': '#f4f4f4',
                    },
                    fontFamily: {
                        sans: ['Cairo', 'sans-serif'],
                    },
                    animation: {
                        'ticker': 'ticker 30s linear infinite', // Ù…Ø¯Ø© Ø§Ù„Ø­Ø±ÙƒØ©
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                    },
                    keyframes: {
                        ticker: {
                            // Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§: Ø§Ù„Ø­Ø±ÙƒØ© Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± (-100%) Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† (100%)
                            '0%': { transform: 'translateX(-100%)' }, 
                            '100%': { transform: 'translateX(100%)' }, 
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #f9f9f9; }
        .section-hidden { display: none; }
        .active-link { color: #32CD32 !important; font-weight: bold; border-bottom: 2px solid #32CD32; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #006400; border-radius: 4px; }
        .hover-zoom img { transition: transform 0.5s ease; }
        .hover-zoom:hover img { transform: scale(1.1); }
        
        /* Modal Styles */
        .modal { transition: opacity 0.3s ease; }
        .modal-hidden { opacity: 0; pointer-events: none; }
        .modal-visible { opacity: 1; pointer-events: auto; }
    </style>
</head>
<body class="font-sans text-gray-800">

    <!-- Login Modal -->
    <div id="login-modal" class="fixed inset-0 bg-black/80 z-[100] flex items-center justify-center modal modal-hidden">
        <div class="bg-white rounded-xl p-8 max-w-sm w-full shadow-2xl relative">
            <button onclick="toggleLoginModal()" class="absolute top-4 left-4 text-gray-500 hover:text-red-500"><i class="fas fa-times"></i></button>
            <h2 class="text-2xl font-black text-center mb-6 text-kl-green">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±Ù</h2>
            <form onsubmit="handleLogin(event)" class="space-y-4">
                <div>
                    <label class="block text-sm font-bold mb-1">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" id="username" class="w-full border p-2 rounded focus:outline-none focus:border-kl-green" placeholder="kooralaghouat">
                </div>
                <div>
                    <label class="block text-sm font-bold mb-1">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="password" class="w-full border p-2 rounded focus:outline-none focus:border-kl-green" placeholder="********">
                </div>
                <button type="submit" class="w-full bg-kl-green text-white font-bold py-2 rounded hover:bg-kl-black transition">Ø¯Ø®ÙˆÙ„</button>
            </form>
        </div>
    </div>

    <!-- Admin Floating Button -->
    <button onclick="toggleLoginModal()" class="fixed bottom-6 left-6 z-50 bg-gray-800 text-white p-4 rounded-full shadow-lg hover:bg-kl-green transition hover:scale-110" title="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…">
        <i class="fas fa-cogs text-xl"></i>
    </button>

    <!-- Admin Dashboard (Hidden by default) -->
    <div id="admin-panel" class="section-hidden fixed inset-0 bg-gray-100 z-[90] overflow-y-auto">
        <div class="container mx-auto p-6">
            <div class="flex justify-between items-center mb-8">
                <h1 class="text-3xl font-black text-kl-black">âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
                <div class="space-x-4 space-x-reverse">
                    <button onclick="saveChanges()" class="bg-green-600 text-white px-6 py-2 rounded font-bold hover:bg-green-700 shadow-lg"><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                    <button onclick="closeAdminPanel()" class="bg-red-500 text-white px-6 py-2 rounded font-bold hover:bg-red-600 shadow-lg">Ø®Ø±ÙˆØ¬</button>
                </div>
            </div>

            <!-- Tabs -->
            <div class="flex space-x-2 space-x-reverse mb-6 overflow-x-auto">
                <button onclick="switchAdminTab('general')" class="admin-tab-btn bg-white px-4 py-2 rounded shadow font-bold hover:text-kl-green">Ø¹Ø§Ù…</button>
                <button onclick="switchAdminTab('ticker')" class="admin-tab-btn bg-white px-4 py-2 rounded shadow font-bold hover:text-kl-green">Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</button>
                <button onclick="switchAdminTab('slider')" class="admin-tab-btn bg-white px-4 py-2 rounded shadow font-bold hover:text-kl-green">Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±</button>
                <button onclick="switchAdminTab('news')" class="admin-tab-btn bg-white px-4 py-2 rounded shadow font-bold hover:text-kl-green">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</button>
                <button onclick="switchAdminTab('teams')" class="admin-tab-btn bg-white px-4 py-2 rounded shadow font-bold hover:text-kl-green">Ø§Ù„ØªØ±ØªÙŠØ¨</button>
            </div>

            <!-- Tab Contents -->
            <div id="tab-general" class="admin-tab-content bg-white p-6 rounded shadow-md">
                <h3 class="text-xl font-bold mb-4">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ø§Ù…Ø©</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-bold mb-1">Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„)</label>
                        <input type="text" id="edit-site-name-1" class="w-full border p-2 rounded">
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-1">Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ù„ÙˆÙ†)</label>
                        <input type="text" id="edit-site-name-2" class="w-full border p-2 rounded">
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-1">ÙˆØµÙ Ø§Ù„Ø´Ø¹Ø§Ø±</label>
                        <input type="text" id="edit-site-desc" class="w-full border p-2 rounded">
                    </div>
                     <div>
                        <label class="block text-sm font-bold mb-1">Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <input type="text" id="edit-bg-image" placeholder="https://..." class="w-full border p-2 rounded">
                        <p class="text-xs text-gray-500 mt-1">Ø§ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ© Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</p>
                    </div>
                </div>
            </div>

            <div id="tab-ticker" class="admin-tab-content hidden bg-white p-6 rounded shadow-md">
                <h3 class="text-xl font-bold mb-4">Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©</h3>
                <p class="text-sm text-gray-500 mb-2">Ø£Ø¯Ø®Ù„ Ø®Ø¨Ø±Ø§Ù‹ ÙˆØ§Ø­Ø¯Ø§Ù‹ ÙÙŠ ÙƒÙ„ Ø³Ø·Ø±</p>
                <textarea id="edit-ticker-text" rows="6" class="w-full border p-2 rounded focus:border-kl-green" placeholder="Ø®Ø¨Ø± 1&#10;Ø®Ø¨Ø± 2"></textarea>
            </div>

            <div id="tab-slider" class="admin-tab-content hidden bg-white p-6 rounded shadow-md">
                <h3 class="text-xl font-bold mb-4">Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© (Slider)</h3>
                <div id="slider-editor-container" class="space-y-4">
                    <!-- Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯Ù‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª -->
                </div>
                <button onclick="addNewSlideInput()" class="mt-4 bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 font-bold">+ Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙŠØ­Ø©</button>
            </div>

            <div id="tab-news" class="admin-tab-content hidden bg-white p-6 rounded shadow-md">
                <h3 class="text-xl font-bold mb-4">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h3>
                <div id="news-editor-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯Ù‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª -->
                </div>
                <button onclick="addNewNewsInput()" class="mt-4 bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 font-bold w-full">+ Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯</button>
            </div>

            <div id="tab-teams" class="admin-tab-content hidden bg-white p-6 rounded shadow-md">
                <h3 class="text-xl font-bold mb-4">Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ±ØªÙŠØ¨</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-center border">
                        <thead class="bg-gray-100">
                            <tr>
                                <th class="p-2">Ø§Ù„ØªØ±ØªÙŠØ¨</th>
                                <th class="p-2">Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚</th>
                                <th class="p-2">Ù„Ø¹Ø¨</th>
                                <th class="p-2">Ù†Ù‚Ø§Ø·</th>
                                <th class="p-2">Ø­Ø°Ù</th>
                            </tr>
                        </thead>
                        <tbody id="teams-editor-body">
                            <!-- Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯Ù‡ -->
                        </tbody>
                    </table>
                    <button onclick="addNewTeamRow()" class="mt-4 bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 font-bold w-full">+ Ø¥Ø¶Ø§ÙØ© ÙØ±ÙŠÙ‚</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-kl-black text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-3 space-x-reverse cursor-pointer" onclick="showSection('home')">
                <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-kl-green font-bold text-xl border-2 border-kl-green">
                    <i class="fas fa-futbol"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-black tracking-tighter uppercase leading-none" id="display-site-title">
                        KOORA <span class="text-kl-light-green">LAGHOUAT</span>
                    </h1>
                    <span class="text-xs text-gray-400 block" id="display-site-desc">Ù†Ø¨Ø¶ Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø£ØºÙˆØ§Ø·ÙŠØ©</span>
                </div>
            </div>
            <button id="mobile-menu-btn" class="lg:hidden text-2xl focus:outline-none hover:text-kl-light-green"><i class="fas fa-bars"></i></button>
            <nav class="hidden lg:flex space-x-6 space-x-reverse text-sm font-semibold">
                <a href="#" onclick="showSection('home')" class="nav-link hover:text-kl-light-green transition pb-1 active-link" id="nav-home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="#" onclick="showSection('news')" class="nav-link hover:text-kl-light-green transition pb-1" id="nav-news">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</a>
                <a href="#" onclick="showSection('standings')" class="nav-link hover:text-kl-light-green transition pb-1" id="nav-standings">ØªØ±ØªÙŠØ¨ Ø§Ù„ÙØ±Ù‚</a>
                <a href="#" onclick="showSection('contact')" class="nav-link hover:text-kl-light-green transition pb-1" id="nav-contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
            </nav>
        </div>
        <div id="mobile-menu" class="hidden lg:hidden bg-gray-900 border-t border-gray-700 p-4 space-y-3">
            <a href="#" onclick="showSection('home')" class="block hover:text-kl-light-green">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="#" onclick="showSection('news')" class="block hover:text-kl-light-green">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</a>
            <a href="#" onclick="showSection('standings')" class="block hover:text-kl-light-green">ØªØ±ØªÙŠØ¨ Ø§Ù„ÙØ±Ù‚</a>
        </div>
    </header>

    <!-- Ticker -->
    <div class="bg-kl-green text-white text-sm py-2 relative overflow-hidden flex items-center shadow-inner">
        <div class="bg-kl-green z-10 px-3 font-bold whitespace-nowrap shadow-md absolute right-0 h-full flex items-center border-l border-green-800">
            <!-- Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§: ØªØºÙŠÙŠØ± Ø§Ù„Ù†Øµ Ù…Ù† Ø¹Ø§Ø¬Ù„ Ø¥Ù„Ù‰ Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø± -->
            <span class="animate-pulse bg-red-600 px-2 rounded text-xs ml-2">Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</span>
        </div>
        <div class="overflow-hidden w-full h-6 relative">
             <!-- Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§: Ø¥Ø²Ø§Ù„Ø© direction: ltr ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… keyframes Ø§Ù„Ù…Ø¹Ø¯Ù„Ø© -->
            <div class="absolute top-0 right-0 whitespace-nowrap animate-[ticker_30s_linear_infinite]" id="news-ticker-content" style="text-align: right;">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© JS -->
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 min-h-screen" id="main-content">

        <!-- HOME -->
        <section id="home" class="space-y-12 section-block animate-fade-in">
            <!-- Slider -->
            <div class="relative w-full h-96 md:h-[500px] rounded-2xl overflow-hidden shadow-2xl group">
                <div class="absolute inset-0 bg-black/40 z-10"></div>
                <img id="slider-img" src="" class="w-full h-full object-cover transition-opacity duration-700" alt="Slider">
                <div class="absolute bottom-10 right-10 z-20 text-white max-w-2xl">
                    <span class="bg-kl-green px-3 py-1 rounded text-sm font-bold mb-2 inline-block">Ù…Ù…ÙŠØ²</span>
                    <h2 id="slider-title" class="text-3xl md:text-5xl font-black leading-tight mb-4 drop-shadow-lg"></h2>
                </div>
                <!-- Controls -->
                <div class="absolute bottom-10 left-10 z-20 flex space-x-2 space-x-reverse">
                    <button onclick="changeSlide(1)" class="w-10 h-10 bg-white/20 hover:bg-kl-green rounded-full text-white flex items-center justify-center backdrop-blur-sm transition"><i class="fas fa-chevron-right"></i></button>
                    <button onclick="changeSlide(-1)" class="w-10 h-10 bg-white/20 hover:bg-kl-green rounded-full text-white flex items-center justify-center backdrop-blur-sm transition"><i class="fas fa-chevron-left"></i></button>
                </div>
            </div>

            <!-- Featured News Grid (Rendered via JS) -->
            <div>
                 <div class="flex justify-between items-end mb-6 border-r-4 border-kl-green pr-4">
                    <h3 class="text-2xl font-bold">Ø¢Ø®Ø± Ø§Ù„Ù…Ø³ØªØ¬Ø¯Ø§Øª</h3>
                    <button onclick="showSection('news')" class="text-kl-green hover:underline text-sm font-bold">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</button>
                </div>
                <div id="featured-news-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
            </div>
        </section>

        <!-- NEWS PAGE -->
        <section id="news" class="section-block section-hidden animate-fade-in">
            <h2 class="text-3xl font-black text-kl-green mb-8 text-center">Ø£Ø±Ø´ÙŠÙ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h2>
            <div id="all-news-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"></div>
        </section>

        <!-- STANDINGS PAGE -->
        <section id="standings" class="section-block section-hidden animate-fade-in">
            <h2 class="text-3xl font-black text-center mb-8">Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ø§Ù…</h2>
            <div class="overflow-x-auto bg-white rounded-xl shadow-lg">
                <table class="w-full text-center whitespace-nowrap">
                    <thead class="bg-kl-black text-white">
                        <tr>
                            <th class="p-4">#</th>
                            <th class="p-4 text-right">Ø§Ù„ÙØ±ÙŠÙ‚</th>
                            <th class="p-4">Ù„Ø¹Ø¨</th>
                            <th class="p-4 bg-green-900">Ù†Ù‚Ø§Ø·</th>
                        </tr>
                    </thead>
                    <tbody id="standings-body" class="text-gray-700 font-bold">
                        <!-- JS Rendered -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- CONTACT PAGE -->
        <section id="contact" class="section-block section-hidden animate-fade-in">
             <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">
                <div class="bg-kl-black p-6 text-white text-center">
                    <h2 class="text-3xl font-bold mb-2">Ø§ØªØµÙ„ Ø¨Ù†Ø§</h2>
                </div>
                <div class="p-8">
                     <form onsubmit="event.preventDefault(); alert('ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');" class="space-y-4">
                        <input type="text" class="w-full border rounded p-2" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
                        <textarea class="w-full border rounded p-2 h-32" placeholder="Ø§Ù„Ø±Ø³Ø§Ù„Ø©" required></textarea>
                        <button class="w-full bg-kl-green text-white py-3 rounded font-bold">Ø¥Ø±Ø³Ø§Ù„</button>
                    </form>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-kl-black text-white pt-10 pb-6 border-t-4 border-kl-green text-center">
        <p>&copy; 2025 Ø§Ù„ÙƒØ±Ø© ÙÙŠ Ø§Ù„Ø£ØºÙˆØ§Ø· | KOORA LAGHOUAT</p>
    </footer>

    <!-- Logic -->
    <script>
        // --- 1. DEFAULT DATA (Used if no LocalStorage) ---
        const defaultData = {
            config: {
                siteName1: "KOORA",
                siteName2: "LAGHOUAT",
                desc: "Ù†Ø¨Ø¶ Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø£ØºÙˆØ§Ø·ÙŠØ©",
                bgImage: "" 
            },
            ticker: [
                "ğŸ”´ Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø£ØºÙˆØ§Ø· ÙŠØ­Ù‚Ù‚ ÙÙˆØ²Ø§Ù‹ Ø«Ù…ÙŠÙ†Ø§Ù‹ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø¯ÙŠØ§Ø±",
                "âš½ Ø§Ù†Ø·Ù„Ø§Ù‚ Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ù„Ù„ÙØ¦Ø§Øª Ø§Ù„Ø´Ø¨Ø§Ù†ÙŠØ© ÙÙŠ Ù…Ø¯Ø±Ø³Ø© Ø§Ù„ÙƒØ±Ø©",
                "ğŸ“¢ ØªØ£Ø¬ÙŠÙ„ Ù…Ø¨Ø§Ø±Ø§Ø© Ø§Ù„Ø¯ÙŠØ±Ø¨ÙŠ Ø¨Ø³Ø¨Ø¨ Ø³ÙˆØ¡ Ø§Ù„Ø£Ø­ÙˆØ§Ù„ Ø§Ù„Ø¬ÙˆÙŠØ©",
                "ğŸ† ØªØªÙˆÙŠØ¬ Ø£ØµØ§ØºØ± Ø§Ù„Ø´Ø¨Ø§Ø¨ Ø¨Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© Ø§Ù„ÙˆÙ„Ø§Ø¦ÙŠØ©"
            ],
            // UPDATE: ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± Ø­Ø³Ø¨ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø±Ø³Ù„Ø©
            slider: [
                { 
                    img: "https://images.unsplash.com/photo-1517466787929-bc90951d0974?q=80&w=1200", 
                    title: "ØªØ£Ù‡Ù„ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ù„Ù„Ø£ØºÙˆØ§Ø· Ù„Ù„Ø¯ÙˆØ± 16 Ù…Ù† ÙƒØ£Ø³ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø¨Ø±ÙƒÙ„Ø§Øª Ø§Ù„ØªØ±Ø¬ÙŠØ­" 
                },
                { 
                    img: "https://images.unsplash.com/photo-1517927033932-b3d18e61fb3a?q=80&w=1200", 
                    title: "Ø¹Ù…Ù„ÙŠØ© Ø¬Ø±Ø§Ø­ÙŠØ© Ù†Ø§Ø¬Ø­Ø© Ù„Ù„Ø§Ø¹Ø¨ ÙØªØ­ Ø¨Ù† Ù†Ø§ØµØ± Ø¨Ù† Ø´Ù‡Ø±Ø© \"ØµÙ‡ÙŠØ¨ Ù†Ø¬Ø§Ù…\"" 
                },
                { 
                    img: "https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=1200", 
                    title: "ØªØ¹Ø²ÙŠØ©: Ø§Ù„ØµØ­ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ Ø§Ù„Ù‚Ø¯ÙŠØ± Ø¹Ø¨Ø¯ Ø§Ù„Ø­ÙÙŠØ¸ Ø´Ø§ÙŠØ¨ ÙÙŠ Ø°Ù…Ø© Ø§Ù„Ù„Ù‡" 
                },
                { 
                    img: "https://images.unsplash.com/photo-1595152772835-219674b2a8a6?q=80&w=1200", 
                    title: "ØªØ¹Ø²ÙŠØ©: ÙˆÙØ§Ø© Ø§Ù„Ù…Ù†Ø§ØµØ± Ø§Ù„ÙˆÙÙŠ Ù„Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø£ØºÙˆØ§Ø· Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ø¤Ù…Ù† Ù…Ø­Ù…Ø¯" 
                }
            ],
            news: [
                { title: "ØªØµØ±ÙŠØ­Ø§Øª Ù†Ø§Ø±ÙŠØ© Ù„Ù„Ù…Ø¯Ø±Ø¨", cat: "Ø£ÙƒØ§Ø¨Ø±", date: "14 Ø¯ÙŠØ³Ù…Ø¨Ø±", img: "https://images.unsplash.com/photo-1517466787929-bc90951d0974?q=80&w=600" },
                { title: "Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ Ø§Ù„Ø´Ø§Ø¨Ø© ØªØªØ£Ù„Ù‚", cat: "Ø´Ø¨Ø§Ù†", date: "13 Ø¯ÙŠØ³Ù…Ø¨Ø±", img: "https://images.unsplash.com/photo-1522778119026-d647f0565c6d?q=80&w=600" },
                { title: "Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø¦ÙŠØ³ Ø¬Ø¯ÙŠØ¯", cat: "Ø¥Ø¯Ø§Ø±Ø©", date: "12 Ø¯ÙŠØ³Ù…Ø¨Ø±", img: "https://images.unsplash.com/photo-1431324155629-1a6deb1dec8d?q=80&w=600" },
                { title: "ØªØ­Ø¶ÙŠØ±Ø§Øª Ù…ÙƒØ«ÙØ© Ù„Ù„Ù…ÙˆØ³Ù…", cat: "Ø¨Ø·ÙˆÙ„Ø©", date: "10 Ø¯ÙŠØ³Ù…Ø¨Ø±", img: "https://images.unsplash.com/photo-1517927033932-b3d18e61fb3a?q=80&w=600" }
            ],
            teams: [
                { name: "Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø£ØºÙˆØ§Ø· (IRBL)", played: 12, points: 28, color: "green" },
                { name: "Ø´Ø¨Ø§Ø¨ Ø§Ù„Ø£ØºÙˆØ§Ø·", played: 12, points: 25, color: "blue" },
                { name: "Ù…ÙˆÙ„ÙˆØ¯ÙŠØ© Ø­Ø§Ø³ÙŠ Ø§Ù„Ø±Ù…Ù„", played: 12, points: 22, color: "red" },
                { name: "Ø§ØªØ­Ø§Ø¯ Ø¢ÙÙ„Ùˆ", played: 12, points: 19, color: "yellow" }
            ]
        };

        // --- 2. STATE MANAGEMENT ---
        // Force refresh from defaultData if needed (for demonstration purposes, we might want to clear local storage manually or just rely on manual updates in admin)
        // Here we keep logic same: load from local storage if exists, otherwise default.
        // NOTE: If you already edited the site, you might not see changes unless you clear LocalStorage or reset via Admin panel.
        let appData = JSON.parse(localStorage.getItem('koora_laghouat_data')) || defaultData;
        
        // ** IMPORTANT FIX FOR USER **
        // If the user already has data in LocalStorage, the new slider content won't show automatically.
        // We will force update the slider ONLY if it looks like the old default data.
        if (appData.slider.length > 0 && appData.slider[0].title.includes("Ø§Ù„Ø¯ÙŠØ±Ø¨ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ±")) {
             appData.slider = defaultData.slider;
             localStorage.setItem('koora_laghouat_data', JSON.stringify(appData));
        }

        let isAdmin = false;

        function saveData() {
            localStorage.setItem('koora_laghouat_data', JSON.stringify(appData));
            renderAll();
        }

        // --- 3. RENDERING FUNCTIONS ---
        function renderAll() {
            renderConfig();
            renderTicker();
            renderSlider(); // Re-init slider
            renderNews();
            renderStandings();
        }

        function renderConfig() {
            document.getElementById('display-site-title').innerHTML = `${appData.config.siteName1} <span class="text-kl-light-green">${appData.config.siteName2}</span>`;
            document.getElementById('display-site-desc').innerText = appData.config.desc;
            if(appData.config.bgImage) {
                document.body.style.backgroundImage = `url('${appData.config.bgImage}')`;
                document.body.style.backgroundSize = "cover";
                document.body.style.backgroundAttachment = "fixed";
            } else {
                document.body.style.backgroundImage = "none";
            }
        }

        function renderTicker() {
            const tickerContainer = document.getElementById('news-ticker-content');
            tickerContainer.innerHTML = appData.ticker.map(item => `<span class="mx-8 inline-block">${item}</span>`).join('');
        }

        let currentSlide = 0;
        let sliderInterval;

        function renderSlider() {
            if(appData.slider.length === 0) return;
            // Show first slide immediately
            updateSlideView();
            // Clear existing interval if any
            if(sliderInterval) clearInterval(sliderInterval);
            sliderInterval = setInterval(() => changeSlide(1), 5000);
        }

        function updateSlideView() {
            const img = document.getElementById('slider-img');
            const title = document.getElementById('slider-title');
            
            // Safety check
            if (currentSlide >= appData.slider.length) currentSlide = 0;
            if (currentSlide < 0) currentSlide = appData.slider.length - 1;

            img.style.opacity = 0;
            setTimeout(() => {
                img.src = appData.slider[currentSlide].img;
                title.innerText = appData.slider[currentSlide].title;
                img.style.opacity = 1;
            }, 300);
        }

        function changeSlide(direction) {
            currentSlide += direction;
            updateSlideView();
        }

        function renderNews() {
            // Featured (First 3)
            const featuredContainer = document.getElementById('featured-news-grid');
            featuredContainer.innerHTML = appData.news.slice(0, 3).map(news => createNewsCard(news)).join('');

            // All News
            const allNewsContainer = document.getElementById('all-news-grid');
            allNewsContainer.innerHTML = appData.news.map(news => createNewsCard(news)).join('');
        }

        function createNewsCard(news) {
            return `
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition duration-300 border border-gray-100 group">
                    <div class="h-48 overflow-hidden hover-zoom relative">
                        <img src="${news.img}" class="w-full h-full object-cover" alt="${news.title}" onerror="this.src='https://placehold.co/600x400?text=No+Image'">
                        <span class="absolute top-2 right-2 bg-kl-green text-white text-xs px-2 py-1 rounded shadow">${news.cat}</span>
                    </div>
                    <div class="p-4">
                        <div class="text-xs text-gray-400 mb-2"><i class="far fa-calendar-alt ml-1"></i> ${news.date}</div>
                        <h4 class="font-bold text-lg mb-2 group-hover:text-kl-green transition">${news.title}</h4>
                    </div>
                </div>
            `;
        }

        function renderStandings() {
            const tbody = document.getElementById('standings-body');
            tbody.innerHTML = appData.teams.map((team, index) => `
                <tr class="border-b hover:bg-gray-50">
                    <td class="p-4">${index + 1}</td>
                    <td class="p-4 text-right flex items-center">
                        <span class="w-3 h-3 bg-${team.color}-500 rounded-full ml-2"></span> ${team.name}
                    </td>
                    <td class="p-4">${team.played}</td>
                    <td class="p-4 bg-green-100 text-kl-green font-black">${team.points}</td>
                </tr>
            `).join('');
        }


        // --- 4. ADMIN LOGIC ---
        function toggleLoginModal() {
            const modal = document.getElementById('login-modal');
            if(isAdmin) {
                // If already logged in, show admin panel directly
                document.getElementById('admin-panel').classList.remove('section-hidden');
            } else {
                if(modal.classList.contains('modal-hidden')) {
                    modal.classList.remove('modal-hidden');
                    modal.classList.add('modal-visible');
                } else {
                    modal.classList.add('modal-hidden');
                    modal.classList.remove('modal-visible');
                }
            }
        }

        function handleLogin(e) {
            e.preventDefault();
            const u = document.getElementById('username').value;
            const p = document.getElementById('password').value;
            
            // Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§: ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„
            if(u === 'kooralaghouat' && p === 'kooradz2015') {
                isAdmin = true;
                document.getElementById('login-modal').classList.add('modal-hidden');
                document.getElementById('admin-panel').classList.remove('section-hidden');
                initAdminForms();
                // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù„Ù„Ø­Ù…Ø§ÙŠØ©
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
            } else {
                alert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø®Ø§Ø·Ø¦Ø©! ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±.');
            }
        }

        function closeAdminPanel() {
            document.getElementById('admin-panel').classList.add('section-hidden');
            isAdmin = false; // Optional: auto logout on close
        }

        function switchAdminTab(tabName) {
            // Hide all
            document.querySelectorAll('.admin-tab-content').forEach(el => el.classList.add('hidden'));
            // Show target
            document.getElementById(`tab-${tabName}`).classList.remove('hidden');
            
            // Highlight button
            document.querySelectorAll('.admin-tab-btn').forEach(btn => {
                btn.classList.remove('bg-kl-green', 'text-white');
                btn.classList.add('bg-white', 'text-black');
            });
            event.target.classList.remove('bg-white', 'text-black');
            event.target.classList.add('bg-kl-green', 'text-white');
        }

        function initAdminForms() {
            // General
            document.getElementById('edit-site-name-1').value = appData.config.siteName1;
            document.getElementById('edit-site-name-2').value = appData.config.siteName2;
            document.getElementById('edit-site-desc').value = appData.config.desc;
            document.getElementById('edit-bg-image').value = appData.config.bgImage;

            // Ticker
            document.getElementById('edit-ticker-text').value = appData.ticker.join('\n');

            // Slider (Dynamic Inputs)
            renderSliderEditor();
            
            // News (Dynamic Inputs)
            renderNewsEditor();

            // Teams
            renderTeamsEditor();
        }

        function renderSliderEditor() {
            const container = document.getElementById('slider-editor-container');
            container.innerHTML = appData.slider.map((slide, index) => `
                <div class="border p-4 rounded bg-gray-50 relative">
                    <button onclick="deleteSlide(${index})" class="absolute top-2 left-2 text-red-500 hover:text-red-700 font-bold">X</button>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                        <input type="text" value="${slide.title}" onchange="updateSlideData(${index}, 'title', this.value)" class="border p-2 rounded" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
                        <input type="text" value="${slide.img}" onchange="updateSlideData(${index}, 'img', this.value)" class="border p-2 rounded" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
                    </div>
                </div>
            `).join('');
        }

        function renderNewsEditor() {
            const container = document.getElementById('news-editor-container');
            container.innerHTML = appData.news.map((n, index) => `
                <div class="border p-4 rounded bg-gray-50 relative">
                    <button onclick="deleteNews(${index})" class="absolute top-2 left-2 text-red-500 hover:text-red-700 font-bold">X</button>
                    <input type="text" value="${n.title}" onchange="updateNewsData(${index}, 'title', this.value)" class="border p-2 rounded w-full mb-2" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
                    <div class="grid grid-cols-3 gap-2">
                        <input type="text" value="${n.cat}" onchange="updateNewsData(${index}, 'cat', this.value)" class="border p-2 rounded" placeholder="Ø§Ù„ØªØµÙ†ÙŠÙ">
                        <input type="text" value="${n.date}" onchange="updateNewsData(${index}, 'date', this.value)" class="border p-2 rounded" placeholder="Ø§Ù„ØªØ§Ø±ÙŠØ®">
                        <input type="text" value="${n.img}" onchange="updateNewsData(${index}, 'img', this.value)" class="border p-2 rounded" placeholder="Ø§Ù„ØµÙˆØ±Ø©">
                    </div>
                </div>
            `).join('');
        }

        function renderTeamsEditor() {
            const tbody = document.getElementById('teams-editor-body');
            tbody.innerHTML = appData.teams.map((t, index) => `
                <tr>
                    <td class="p-2">${index + 1}</td>
                    <td class="p-2"><input type="text" value="${t.name}" onchange="updateTeamData(${index}, 'name', this.value)" class="border p-1 w-full text-center"></td>
                    <td class="p-2"><input type="number" value="${t.played}" onchange="updateTeamData(${index}, 'played', this.value)" class="border p-1 w-16 text-center"></td>
                    <td class="p-2"><input type="number" value="${t.points}" onchange="updateTeamData(${index}, 'points', this.value)" class="border p-1 w-16 text-center bg-green-50"></td>
                    <td class="p-2"><button onclick="deleteTeam(${index})" class="text-red-500">ğŸ—‘ï¸</button></td>
                </tr>
            `).join('');
        }

        // --- Helpers for updating data arrays directly ---
        // (These modify appData immediately, saveChanges() commits to localStorage)
        function updateSlideData(idx, key, val) { appData.slider[idx][key] = val; }
        function addNewSlideInput() { appData.slider.push({title: "Ø´Ø±ÙŠØ­Ø© Ø¬Ø¯ÙŠØ¯Ø©", img: ""}); renderSliderEditor(); }
        function deleteSlide(idx) { appData.slider.splice(idx, 1); renderSliderEditor(); }

        function updateNewsData(idx, key, val) { appData.news[idx][key] = val; }
        function addNewNewsInput() { appData.news.unshift({title: "Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯", cat: "Ø¹Ø§Ù…", date: "Ø§Ù„Ø¢Ù†", img: ""}); renderNewsEditor(); }
        function deleteNews(idx) { appData.news.splice(idx, 1); renderNewsEditor(); }

        function updateTeamData(idx, key, val) { appData.teams[idx][key] = val; }
        function addNewTeamRow() { appData.teams.push({name: "ÙØ±ÙŠÙ‚ Ø¬Ø¯ÙŠØ¯", played: 0, points: 0, color: "gray"}); renderTeamsEditor(); }
        function deleteTeam(idx) { appData.teams.splice(idx, 1); renderTeamsEditor(); }

        function saveChanges() {
            // General
            appData.config.siteName1 = document.getElementById('edit-site-name-1').value;
            appData.config.siteName2 = document.getElementById('edit-site-name-2').value;
            appData.config.desc = document.getElementById('edit-site-desc').value;
            appData.config.bgImage = document.getElementById('edit-bg-image').value;

            // Ticker (split by newlines)
            const rawTicker = document.getElementById('edit-ticker-text').value;
            appData.ticker = rawTicker.split('\n').filter(line => line.trim() !== "");

            saveData();
            alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
            closeAdminPanel();
        }

        // --- Navigation ---
        function showSection(sectionId) {
            document.querySelectorAll('.section-block').forEach(sec => sec.classList.add('section-hidden'));
            const target = document.getElementById(sectionId);
            if(target) {
                target.classList.remove('section-hidden');
                target.classList.remove('animate-fade-in');
                void target.offsetWidth; 
                target.classList.add('animate-fade-in');
            }
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active-link'));
            const activeLink = document.getElementById('nav-' + sectionId);
            if(activeLink) activeLink.classList.add('active-link');
            document.getElementById('mobile-menu').classList.add('hidden');
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        document.getElementById('mobile-menu-btn').addEventListener('click', () => {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });

        // --- INIT ---
        window.onload = function() {
            renderAll();
        };

    </script>
</body>
</html>
